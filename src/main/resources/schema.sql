CREATE TABLE IF NOT EXISTS USERS (
id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
email varchar(64),
login varchar(64),
name varchar(64),
birthday date,
status varchar(64)
);

CREATE TABLE IF NOT EXISTS USER_FRIENDS (
	user_id INTEGER REFERENCES USERS(ID),
	friend_id INTEGER REFERENCES USERS(ID),
	status varchar(64) DEFAULT false
);

CREATE TABLE IF NOT EXISTS FILMS (
id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name varchar(64),
description varchar(1024),
release_date date,
duration INTEGER
);

CREATE TABLE IF NOT EXISTS GENRES (
genre_id INTEGER PRIMARY KEY,
genre varchar(64)
);

CREATE TABLE IF NOT EXISTS GENRE_FILM (
film_id INTEGER REFERENCES FILMS(ID),
genre_id INTEGER REFERENCES GENRES(GENRE_ID)
);

CREATE TABLE IF NOT EXISTS MPA (
mpa_id INTEGER PRIMARY KEY,
mpa varchar(64)
);

CREATE TABLE IF NOT EXISTS MPA_FILM (
film_id INTEGER REFERENCES FILMS(ID),
mpa_id INTEGER REFERENCES MPA(MPA_ID)
);

CREATE TABLE IF NOT EXISTS FILM_LIKES (
user_id INTEGER REFERENCES USERS(ID),
film_id INTEGER REFERENCES FILMS(ID)
);

